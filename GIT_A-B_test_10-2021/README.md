# Оценка результатов А/В теста

Постановка задачи

Ваша задача — провести оценку результатов A/B-теста. В вашем распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.

    Оцените корректность проведения теста
    Проанализируйте результаты теста

Чтобы оценить корректность проведения теста, проверьте:

    пересечение тестовой аудитории с конкурирующим тестом,
    совпадение теста и маркетинговых событий, другие проблемы временных границ теста.

Техническое задание

    Название теста: recommender_system_test;
    группы: А — контрольная, B — новая платёжная воронка;
    дата запуска: 2020-12-07;
    дата остановки набора новых пользователей: 2020-12-21;
    дата остановки: 2021-01-04;
    аудитория: 15% новых пользователей из региона EU;
    назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
    ожидаемое количество участников теста: 6000.
    ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
        конверсии в просмотр карточек товаров — событие product_page,
        просмотры корзины — product_cart,
        покупки — purchase.

Описание данных

ab_project_marketing_events.csv — календарь маркетинговых событий на 2020 год.

Структура файла:

    name — название маркетингового события;
    regions — регионы, в которых будет проводиться рекламная кампания;
    start_dt — дата начала кампании;
    finish_dt — дата завершения кампании.

final_ab_new_users.csv — пользователи, зарегистрировавшиеся с 7 по 21 декабря 2020 года.

Структура файла:

    user_id — идентификатор пользователя;
    first_date — дата регистрации;
    region — регион пользователя;
    device — устройство, с которого происходила регистрация.

final_ab_events.csv — действия новых пользователей в период с 7 декабря 2020 по 4 января 2021 года.

Структура файла:

    user_id — идентификатор пользователя;
    event_dt — дата и время покупки;
    event_name — тип события;
    details — дополнительные данные о событии. Например, для покупок, purchase, в этом поле хранится стоимость покупки в долларах.

final_ab_participants.csv — таблица участников тестов.

Структура файла:

    user_id — идентификатор пользователя;
    ab_test — название теста;
    group — группа пользователя.

Декомпозиция

    Опишите цели исследования

    Открытие данных

    Предобработка данных
        Изучение данных
        Обработка дубликатов
        Обработка пропущенных значений
        Работа с типами данных

    Проведите исследовательский анализ данных:
        Как меняется конверсия в воронке на разных этапах?
        Количество событий на пользователя одинаково распределены в выборках?
        В выборках встречаются одни и те же пользователи?
        Как число событий распределено по дням?
        Какие особенности данных нужно учесть, прежде чем приступать к A/B-тестированию?

    Оцените результаты A/B-тестирования
        Что можно сказать про результаты A/В-тестирования?
        Проверьте статистическую разницу долей z-критерием.

    Опишите выводы по этапу исследовательского анализа данных и по проведённой оценке результатов A/B-тестирования.

Библиотеки

# достаём библиотеки

import matplotlib.pyplot as plt

import pandas as pd

from scipy import stats as st

​

# библиотека сиборн для визуализации на Питоне поверх matplotlib

import seaborn as sns

# Импорт библиотеки высокоуровневых математических функций

import numpy as np

import math as mth

from cmath import sqrt

from math import log

​

from statsmodels.stats.proportion import proportions_ztest

# лаконичный, последовательный, высокоуровневый API для создания фигур

import plotly.express as px

import plotly.graph_objects as go

# уберём warnings

import sys

import warnings

if not sys.warnoptions:

       warnings.simplefilter("ignore")

import datetime as dt

from datetime import timedelta

# Модуль Re для регулярных выражений в Python

import re

# для графика воронки

import plotly.graph_objects as go

from plotly.subplots import make_subplots
